dist: bionic

language: go

go: stable

env:
  - GO111MODULE=on

git:
  depth: 1

before_install:
  - go get github.com/mattn/goveralls
  - go get -u github.com/rakyll/gotest

install: true

script:
  - make mainnet
  - gotest -v -covermode=count -coverprofile=coverage.out ./x/...
  - $GOPATH/bin/goveralls -coverprofile=coverage.out -service=travis-ci
  - ls -l $GOPATH/bin

